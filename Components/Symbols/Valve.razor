@using TestBlazor.Components.Symbols.Common

@using TestBlazor.Models.Symbols

<SymbolWrapper Symbol="Symbol" 
               HasCrossFilter="HasCrossFilter" 
               Size="Size" Width="Width" Height="Height" Rotation="CurrentRotation" MirrorX="MirrorX" MirrorY="MirrorY"
               OverlayContent="OverlayContent" OnClick="OnClick" OnSettingsClick="OnSettingsClick">
    <ValveIcon />
</SymbolWrapper>

@code {
    [Parameter] public ValveProperties? Symbol { get; set; }

    // Remaining Params
    [Parameter] public bool HasCrossFilter { get; set; }
    
    [Parameter] public int Size { get; set; } = 100;
    [Parameter] public int? Width { get; set; }
    [Parameter] public int? Height { get; set; }
    [Parameter] public int Rotation { get; set; } = 0;
    [Parameter] public bool MirrorX { get; set; }
    [Parameter] public bool MirrorY { get; set; }

    [Parameter] public EventCallback<MouseEventArgs> OnClick { get; set; }
    [Parameter] public EventCallback OnSettingsClick { get; set; }
    [Parameter] public RenderFragment? OverlayContent { get; set; }

    // Computed Properties
    private int CurrentRotation => Symbol != null ? (Symbol.IsOpen ? 90 : 0) + Rotation : Rotation;
}
